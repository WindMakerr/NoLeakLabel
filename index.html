<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suspender – Dota 2 читы</title>
    
    <!-- Критический CSS встроен -->
    <style>
        /* Базовые стили для быстрого отображения */
        :root {
            --neon-purple: #8B00FF;
            --neon-blue: #00FFFF;
        }
        body { background: #0a0a0a; color: #f0f0f0; margin: 0; font-family: 'Segoe UI', sans-serif; }
        .text-purple { color: var(--neon-purple); }
        .btn-neon {
            background: transparent; color: var(--neon-purple); border: 2px solid var(--neon-purple);
            padding: 10px 25px; border-radius: 50px; text-decoration: none; display: inline-block;
        }
        .navbar { background: rgba(0,0,0,0.9); padding: 15px 0; position: fixed; width: 100%; top: 0; z-index: 1000; }
        .container { width: 90%; max-width: 1200px; margin: 0 auto; }
        .d-flex { display: flex; } .justify-content-between { justify-content: space-between; }
        .align-items-center { align-items: center; }
        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
    </style>
    
    <!-- Bootstrap и остальные стили загружаем асинхронно -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
    </noscript>
    
    <!-- Bootstrap Icons (оптимизировано) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" media="print" onload="this.media='all'">
</head>
<body>

    <!-- Убираем прелоадер - он замедляет загрузку -->
    
    <canvas id="particle-canvas"></canvas>

    <!-- Навигация -->
    <nav class="navbar">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="index.html" class="text-purple" style="font-size: 1.8rem; text-decoration: none; font-weight: bold;">
                <i class="bi bi-robot"></i> Suspender
            </a>
            <div>
                <a href="index.html" class="btn-neon" style="margin-right: 10px;">Главная</a>
                <a href="catalog.html" class="btn-neon" style="margin-right: 10px;">Каталог</a>
                <a href="contacts.html" class="btn-neon">Контакты</a>
            </div>
        </div>
    </nav>

    <!-- Hero секция (упрощена для скорости) -->
    <section style="min-height: 100vh; display: flex; align-items: center; padding-top: 80px;">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1 style="font-size: 4rem; color: var(--neon-purple);">Suspender</h1>
                    <p style="font-size: 1.5rem;">Продвинутые читы для Dota 2</p>
                    <a href="catalog.html" class="btn-neon">Купить читы</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Популярные товары (упрощенно) -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-purple text-center mb-4">Популярные товары</h2>
            <div class="row g-4" id="popular-products"></div>
        </div>
    </section>

    <!-- Футер -->
    <footer class="py-4 text-center" style="background: #000;">
        <p>© 2025 Suspender</p>
    </footer>

    <!-- Модалка корзины -->
    <div class="modal fade" id="cartModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content" style="background: #111;">
                <div class="modal-header">
                    <h5 class="modal-title">Корзина</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" id="cartItems">Корзина пуста</div>
            </div>
        </div>
    </div>

    <!-- Скрипты загружаем с defer -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    
    <!-- Оптимизированный скрипт -->
    <script>
        // Минимальный JS для быстрой загрузки
        document.addEventListener('DOMContentLoaded', function() {
            // Упрощенная инициализация корзины
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Популярные товары
            const products = [
                { name: 'ESP Hack Ultimate', price: 2999, img: 'https://via.placeholder.com/300/8B00FF/ffffff?text=ESP', link: 'product.html' },
                { name: 'Auto Last Hit Pro', price: 1999, img: 'https://via.placeholder.com/300/8B00FF/ffffff?text=LAST+HIT', link: 'product1.html' },
                { name: 'Map Hack Vision', price: 2499, img: 'https://via.placeholder.com/300/8B00FF/ffffff?text=MAP+HACK', link: 'product2.html' },
                { name: 'Script Pack Premium', price: 3499, img: 'https://via.placeholder.com/300/8B00FF/ffffff?text=SCRIPTS', link: 'product3.html' }
            ];
            
            const container = document.getElementById('popular-products');
            if(container) {
                container.innerHTML = products.map(p => `
                    <div class="col-md-3">
                        <div class="card" style="background: #111; border: 1px solid #8B00FF; border-radius: 10px; overflow: hidden;">
                            <img src="${p.img}" style="width: 100%; height: 200px; object-fit: cover;">
                            <div class="p-3">
                                <h5 class="text-purple">${p.name}</h5>
                                <p class="fw-bold">${p.price} ₽</p>
                                <a href="${p.link}" class="btn-neon w-100 text-center">Подробнее</a>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            // Простая анимация частиц (если нужна)
            if(window.THREE && document.getElementById('particle-canvas')) {
                initSimpleParticles();
            }
        });
        
        function initSimpleParticles() {
            // Упрощенная версия частиц для производительности
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('particle-canvas'), alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            
            const geometry = new THREE.BufferGeometry();
            const count = 1000; // Меньше частиц для скорости
            const positions = new Float32Array(count * 3);
            
            for(let i = 0; i < count * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 20;
                positions[i+1] = (Math.random() - 0.5) * 20;
                positions[i+2] = (Math.random() - 0.5) * 20;
            }
            
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            const material = new THREE.PointsMaterial({ color: 0x8B00FF, size: 0.02 });
            const particles = new THREE.Points(geometry, material);
            scene.add(particles);
            
            camera.position.z = 10;
            
            function animate() {
                requestAnimationFrame(animate);
                particles.rotation.y += 0.0005;
                renderer.render(scene, camera);
            }
            animate();
        }
    </script>
</body>
</html>
